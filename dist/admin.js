!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";const e="/Users/sebastian/Work/DePay/web3-woocommerce-depay-payments/src/admin/AdminSettingsPage.js";window.React.useRef;const t=window.React.useState,a=window.React.useEffect;function s(s){const{Button:i}=window.wp.components,[l,c]=t(!1),[o,n]=t(),[r,m]=t(),[_,d]=t("DePay"),[u,N]=t(""),[b,p]=t(""),[h,y]=t(),[g,f]=t(!1);t();const[w,E]=t(),M=(e,t,a)=>{let s=[...h];if(e&&0!==e.length)try{e="solana"===a?new SolanaWeb3js.PublicKey(e).toString():ethers.ethers.utils.getAddress(e),s[t].error=void 0}catch(e){s[t].error="This address is invalid!"}else s[t].error="Please enter a receiver address!";s[t].receiver=e,y(s)};return a((()=>{wp.api.loadPromise.then((()=>{(new wp.api.models.Settings).fetch().then((e=>{if(e.depay_wc_tokens){let t=JSON.parse(e.depay_wc_tokens);t.forEach((t=>{void 0===t.receiver&&e.depay_wc_receiving_wallet_address&&(t.receiver=e.depay_wc_receiving_wallet_address)})),y(t)}else y([]);E(function(e){let t,a=e[0],s=1;for(;s<e.length;){const i=e[s],l=e[s+1];if(s+=2,("optionalAccess"===i||"optionalCall"===i)&&null==a)return;"access"===i||"optionalAccess"===i?(t=a,a=l(a)):"call"!==i&&"optionalCall"!==i||(a=l(((...e)=>a.call(t,...e))),t=void 0)}return a}([e,"access",e=>e.depay_wc_token_for_denomination,"optionalAccess",e=>e.length])?JSON.parse(e.depay_wc_token_for_denomination):null),c(!0),d(e.depay_wc_checkout_title||"DePay"),N(e.depay_wc_checkout_description||""),p(e.depay_wc_displayed_currency||"")}))})).catch((()=>{}))}),[]),a((()=>{if(h){let e={};h.forEach((t=>{null==e[t.blockchain]?e[t.blockchain]=1:e[t.blockchain]+=1})),f(!!Object.values(e).find((e=>e>2)))}}),[h]),a((()=>{m(!(h&&h.length&&h.every((e=>e.receiver&&e.receiver.length>0&&void 0===e.error))))}),[h]),l?React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:143}},React.createElement("div",{className:"woocommerce-section-header",__self:this,__source:{fileName:e,lineNumber:145}},React.createElement("h2",{className:"woocommerce-section-header__title woocommerce-section-header__header-item",__self:this,__source:{fileName:e,lineNumber:146}},"Settings"),React.createElement("hr",{role:"presentation",__self:this,__source:{fileName:e,lineNumber:149}})),"1"!==window.DEPAY_WC_SETUP.bcmath&&React.createElement("div",{className:"woocommerce-settings__wrapper",__self:this,__source:{fileName:e,lineNumber:153}},React.createElement("div",{className:"woocommerce-setting",__self:this,__source:{fileName:e,lineNumber:154}},React.createElement("div",{className:"woocommerce-setting__label",__self:this,__source:{fileName:e,lineNumber:155}},React.createElement("label",{for:"depay-woocommerce-payment-receiver-address",__self:this,__source:{fileName:e,lineNumber:156}},"Missing Requirements")),React.createElement("div",{className:"woocommerce-setting__input",__self:this,__source:{fileName:e,lineNumber:160}},React.createElement("div",{className:"notice inline notice-warning notice-alt",__self:this,__source:{fileName:e,lineNumber:161}},React.createElement("p",{__self:this,__source:{fileName:e,lineNumber:162}},'You need to install the "bcmath" php package! ',React.createElement("a",{href:"https://www.google.com/search?q=how+to+install+bcmath+php+wordpress",target:"_blank",__self:this,__source:{fileName:e,lineNumber:164}},"Learn How")))))),React.createElement("div",{className:"woocommerce-settings__wrapper",__self:this,__source:{fileName:e,lineNumber:174}},React.createElement("div",{className:"woocommerce-setting",__self:this,__source:{fileName:e,lineNumber:175}},React.createElement("div",{className:"woocommerce-setting__label",__self:this,__source:{fileName:e,lineNumber:176}},React.createElement("label",{__self:this,__source:{fileName:e,lineNumber:177}},"Accepted Payments")),React.createElement("div",{className:"woocommerce-setting__input",__self:this,__source:{fileName:e,lineNumber:181}},g&&React.createElement("div",{className:"notice inline notice-warning notice-alt",__self:this,__source:{fileName:e,lineNumber:183}},React.createElement("p",{__self:this,__source:{fileName:e,lineNumber:184}},"Select as few tokens per blockchain as possible! ",React.createElement("a",{href:"https://depay.com/docs/payments/plugins/woocommerce#why-should-i-select-as-few-tokens-per-chain-as-possible",target:"_blank",__self:this,__source:{fileName:e,lineNumber:186}},"Learn More"))),React.createElement("p",{className:"description",__self:this,__source:{fileName:e,lineNumber:192}},"Select the tokens that you want to receive as payment:"),React.createElement("div",{className:"woocommerce-setting__options-group",__self:this,__source:{fileName:e,lineNumber:195}},h&&h.map(((t,a)=>React.createElement("table",{key:`${a}-${t.blockchain}-${t.symbol}`,className:"wp-list-table widefat fixed striped table-view-list page",style:{marginBottom:"0.4rem"},__self:this,__source:{fileName:e,lineNumber:199}},React.createElement("tr",{__self:this,__source:{fileName:e,lineNumber:200}},React.createElement("td",{style:{padding:"1rem 1rem 0.4rem 1rem",display:"flex"},__self:this,__source:{fileName:e,lineNumber:201}},React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:202}},React.createElement("div",{style:{position:"relative",display:"block"},__self:this,__source:{fileName:e,lineNumber:203}},React.createElement(ReactTokenImage.TokenImage,{blockchain:t.blockchain,address:t.address,className:"DePay_woocommerce_token_image",__self:this,__source:{fileName:e,lineNumber:204}}),React.createElement("img",{src:Web3Blockchains[t.blockchain].logo,style:{position:"absolute",bottom:"5px",right:"0px",width:"20px",height:"20px",border:"1px solid white",borderRadius:"4px",backgroundColor:Web3Blockchains[t.blockchain].logoBackgroundColor},__self:this,__source:{fileName:e,lineNumber:205}}))),React.createElement("div",{style:{paddingLeft:"1rem",paddingBottom:"0.3rem",flex:1},__self:this,__source:{fileName:e,lineNumber:208}},React.createElement("div",{style:{display:"flex",justifyontent:"space-between",fontSize:"1rem"},__self:this,__source:{fileName:e,lineNumber:209}},React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:210}},React.createElement("strong",{__self:this,__source:{fileName:e,lineNumber:211}},t.symbol)," (",t.name,") on ",Web3Blockchains[t.blockchain].label),React.createElement("div",{class:"row-actions visible",style:{marginLeft:"auto"},__self:this,__source:{fileName:e,lineNumber:213}},React.createElement("span",{className:"delete",__self:this,__source:{fileName:e,lineNumber:214}},React.createElement("a",{href:"#",onClick:()=>(e=>{let t=h.slice();t.splice(e,1),y(t)})(a),__self:this,__source:{fileName:e,lineNumber:215}},"Remove")))),React.createElement("div",{className:"woocommerce-setting__input__addition",__self:this,__source:{fileName:e,lineNumber:219}},React.createElement("label",{style:{marginBottom:0},__self:this,__source:{fileName:e,lineNumber:220}},React.createElement("span",{className:"",__self:this,__source:{fileName:e,lineNumber:221}},"Receiver"),React.createElement("div",{className:"components-base-control",__self:this,__source:{fileName:e,lineNumber:222}},React.createElement("input",{required:"required",style:{width:"100%"},id:"depay-woocommerce-payment-receiver-address",type:"text",value:t.receiver,onChange:e=>M(e.target.value,a,t.blockchain),__self:this,__source:{fileName:e,lineNumber:223}})),t.error&&React.createElement("div",{className:"notice inline notice-warning notice-alt",style:{marginBottom:0},__self:this,__source:{fileName:e,lineNumber:233}},t.error))),React.createElement("div",{className:"row-actions visible",__self:this,__source:{fileName:e,lineNumber:239}},React.createElement("div",{className:"woocommerce-setting__input__addition",__self:this,__source:{fileName:e,lineNumber:240}},React.createElement("button",{type:"button",className:"components-button is-secondary",onClick:()=>(async(e,t)=>{let{account:a,accounts:s,wallet:i}=await window.DePayWidgets.Connect();M(a,e,t)})(a,t.blockchain),__self:this,__source:{fileName:e,lineNumber:241}},"Connect Wallet"))),!t.routable&&React.createElement("div",{className:"notice inline notice-warning notice-alt",__self:this,__source:{fileName:e,lineNumber:245}},React.createElement("span",{__self:this,__source:{fileName:e,lineNumber:246}},"This token is not supported for conversion! "),React.createElement("a",{href:"https://depay.com/docs/payments/plugins/woocommerce#why-are-some-tokens-not-supported-for-conversion",target:"_blank",__self:this,__source:{fileName:e,lineNumber:249}},"Learn More"))))))))),React.createElement("div",{className:"woocommerce-setting__input__addition",__self:this,__source:{fileName:e,lineNumber:262}},React.createElement("button",{onClick:async()=>{let e=await DePayWidgets.Select({what:"token"});h instanceof Array&&h.find((t=>t.blockchain==e.blockchain&&t.address==e.address))||(e.error="Please enter a receiver address!",y(h instanceof Array?h.concat([e]):[e]))},type:"button",className:"components-button is-secondary",__self:this,__source:{fileName:e,lineNumber:263}},"Add Token")),React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:265}},React.createElement("p",{className:"description",__self:this,__source:{fileName:e,lineNumber:266}}," ")),React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:268}},React.createElement("p",{className:"description",__self:this,__source:{fileName:e,lineNumber:269}},"Each incoming payment will be converted on-the-fly into your selected tokens on the selected blockchains. Customers will be able to use any convertible token as means of payment."),React.createElement("p",{className:"description",__self:this,__source:{fileName:e,lineNumber:273}},React.createElement("strong",{__self:this,__source:{fileName:e,lineNumber:274}},"Payments are sent directly into your wallet.")))))),React.createElement("div",{className:"woocommerce-settings__wrapper",__self:this,__source:{fileName:e,lineNumber:281}},React.createElement("div",{className:"woocommerce-setting",__self:this,__source:{fileName:e,lineNumber:282}},React.createElement("div",{className:"woocommerce-setting__label",__self:this,__source:{fileName:e,lineNumber:283}},React.createElement("label",{__self:this,__source:{fileName:e,lineNumber:284}},"Checkout")),React.createElement("div",{className:"woocommerce-setting__input",__self:this,__source:{fileName:e,lineNumber:288}},React.createElement("div",{className:"woocommerce-setting__options-group",__self:this,__source:{fileName:e,lineNumber:289}},React.createElement("p",{className:"description",__self:this,__source:{fileName:e,lineNumber:290}},"Configure how the payment method should be displayed during checkout:"),React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:293}},React.createElement("label",{__self:this,__source:{fileName:e,lineNumber:294}},React.createElement("span",{className:"woocommerce-settings-historical-data__progress-label",__self:this,__source:{fileName:e,lineNumber:295}},"Payment Method Name"),React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:296}},React.createElement("select",{className:"components-select-control__input",value:_,onChange:e=>d(e.target.value),__self:this,__source:{fileName:e,lineNumber:297}},React.createElement("option",{value:"DePay",__self:this,__source:{fileName:e,lineNumber:298}},"DePay"),React.createElement("option",{value:"Crypto",__self:this,__source:{fileName:e,lineNumber:299}},"Crypto"),React.createElement("option",{value:"Web3",__self:this,__source:{fileName:e,lineNumber:300}},"Web3")))))),React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:306}},React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:307}},React.createElement("label",{__self:this,__source:{fileName:e,lineNumber:308}},React.createElement("span",{className:"woocommerce-settings-historical-data__progress-label",__self:this,__source:{fileName:e,lineNumber:309}},"Additional Description"),React.createElement("textarea",{value:u,onChange:e=>N(e.target.value),style:{width:"100%"},__self:this,__source:{fileName:e,lineNumber:310}})))),React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:315}},React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:316}},React.createElement("label",{__self:this,__source:{fileName:e,lineNumber:317}},React.createElement("span",{className:"woocommerce-settings-historical-data__progress-label",__self:this,__source:{fileName:e,lineNumber:318}},"Displayed currency (within payment widget)"),React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:319}},React.createElement("select",{className:"components-select-control__input",value:b,onChange:e=>p(e.target.value),__self:this,__source:{fileName:e,lineNumber:320}},React.createElement("option",{value:"",__self:this,__source:{fileName:e,lineNumber:321}},"Customer's local currency"),React.createElement("option",{value:"store",__self:this,__source:{fileName:e,lineNumber:322}},"Store's default currency"))))))))),React.createElement("div",{className:"woocommerce-settings__wrapper",__self:this,__source:{fileName:e,lineNumber:332}},React.createElement("div",{className:"woocommerce-setting",__self:this,__source:{fileName:e,lineNumber:333}},React.createElement("div",{className:"woocommerce-setting__label",__self:this,__source:{fileName:e,lineNumber:334}},React.createElement("label",{__self:this,__source:{fileName:e,lineNumber:335}},"Denomination")),React.createElement("div",{className:"woocommerce-setting__input",__self:this,__source:{fileName:e,lineNumber:339}},React.createElement("div",{className:"woocommerce-setting__options-group",__self:this,__source:{fileName:e,lineNumber:340}},React.createElement("p",{className:"description",__self:this,__source:{fileName:e,lineNumber:341}},"Denominate your store items in crypto currency tokens:"),!w&&React.createElement("div",{className:"woocommerce-setting__input__addition",__self:this,__source:{fileName:e,lineNumber:346}},React.createElement("button",{onClick:async()=>{let e=await DePayWidgets.Select({what:"token"});E(e)},type:"button",className:"components-button is-secondary",__self:this,__source:{fileName:e,lineNumber:347}},"Select Token")),w&&React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:353}},React.createElement("table",{className:"wp-list-table widefat fixed striped table-view-list page",style:{marginBottom:"0.4rem"},__self:this,__source:{fileName:e,lineNumber:354}},React.createElement("tr",{__self:this,__source:{fileName:e,lineNumber:355}},React.createElement("td",{style:{padding:"1rem 1rem 0.4rem 1rem",display:"flex"},__self:this,__source:{fileName:e,lineNumber:356}},React.createElement(ReactTokenImage.TokenImage,{blockchain:w.blockchain,address:w.address,className:"DePay_woocommerce_token_image",__self:this,__source:{fileName:e,lineNumber:357}}),React.createElement("div",{style:{paddingLeft:"1rem",paddingBottom:"0.3rem"},__self:this,__source:{fileName:e,lineNumber:358}},React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:359}},React.createElement("strong",{__self:this,__source:{fileName:e,lineNumber:359}},w.symbol)," (",w.name,")"),React.createElement("div",{__self:this,__source:{fileName:e,lineNumber:360}},"on ",w.blockchain.toUpperCase()),React.createElement("div",{className:"row-actions visible",__self:this,__source:{fileName:e,lineNumber:361}},React.createElement("span",{className:"delete",__self:this,__source:{fileName:e,lineNumber:362}},React.createElement("a",{href:"#",onClick:()=>{E(void 0)},__self:this,__source:{fileName:e,lineNumber:363}},"Remove"))),!w.routable&&React.createElement("div",{className:"notice inline notice-warning notice-alt",__self:this,__source:{fileName:e,lineNumber:367}},React.createElement("span",{__self:this,__source:{fileName:e,lineNumber:368}},"This token is not supported for auto-conversion! "),React.createElement("a",{href:"https://depay.com/docs/payments/plugins/woocommerce#why-are-some-tokens-not-supported-for-auto-conversion",target:"_blank",__self:this,__source:{fileName:e,lineNumber:371}},"Learn More")))))),React.createElement("div",{className:"notice inline notice-warning notice-alt",__self:this,__source:{fileName:e,lineNumber:380}},React.createElement("p",{__self:this,__source:{fileName:e,lineNumber:381}},"After saving this, please make sure to also change your default shop currency:",React.createElement("br",{__self:this,__source:{fileName:e,lineNumber:383}}),React.createElement("a",{href:"/wp-admin/admin.php?page=wc-settings",target:"_blank",__self:this,__source:{fileName:e,lineNumber:384}},"WooCommerce -> Settings -> Currency options -> Currency")))))))),React.createElement("div",{className:"woocommerce-settings__wrapper",style:{paddingTop:"20px"},__self:this,__source:{fileName:e,lineNumber:397}},React.createElement("div",{className:"woocommerce-setting",__self:this,__source:{fileName:e,lineNumber:398}},React.createElement("div",{className:"woocommerce-setting__label",__self:this,__source:{fileName:e,lineNumber:399}}),React.createElement("div",{className:"woocommerce-setting__input",__self:this,__source:{fileName:e,lineNumber:400}},React.createElement(i,{isPrimary:!0,isLarge:!0,onClick:()=>(n(!0),void new window.wp.api.models.Settings({depay_wc_tokens:JSON.stringify(h),depay_wc_token_for_denomination:w?JSON.stringify(w):"",depay_wc_blockchains:JSON.stringify([...new Set(h.map((e=>e.blockchain)))]),depay_wc_accepted_payments:JSON.stringify(h.map((e=>({blockchain:e.blockchain,token:e.address,receiver:e.receiver})))),depay_wc_checkout_title:_,depay_wc_checkout_description:u,depay_wc_displayed_currency:b}).save().then((e=>{n(!1),window.location.search="?page=wc-admin&path=%2Fdepay%2Ftransactions"}))),disabled:o||r,__self:this,__source:{fileName:e,lineNumber:401}},"Save Settings"))))):null}const i="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIiB0ZXh0LXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4PSIwIiB5PSIwIiB2aWV3Qm94PSIwIDAgMjgzLjUgMjgzLjUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI4My41IDI4My41IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MXtmaWxsOiM4YzhjOGN9PC9zdHlsZT48Zz48Zz48cGF0aCBzdHlsZT0iZmlsbDojMzQzNDM0IiBkPSJtMTQxLjcgNTUtMS4xIDMuOXYxMTQuOGwxLjEgMS4xIDUzLjMtMzEuNXoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJtMTQxLjcgNTUtNTMuMiA4OC4zIDUzLjIgMzEuNXYtNTUuN3oiLz48cGF0aCBzdHlsZT0iZmlsbDojM2MzYzNiIiBkPSJtMTQxLjcgMTg0LjktLjYuOHY0MC45bC42IDEuOSA1My4zLTc1LjF6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTE0MS43IDIyOC41di00My42bC01My4yLTMxLjV6Ii8+PHBhdGggc3R5bGU9ImZpbGw6IzE0MTQxNCIgZD0ibTE0MS43IDE3NC44IDUzLjMtMzEuNS01My4zLTI0LjJ6Ii8+PHBhdGggc3R5bGU9ImZpbGw6IzM5MzkzOSIgZD0ibTg4LjUgMTQzLjMgNTMuMiAzMS41di01NS43eiIvPjwvZz48L2c+PC9zdmc+Cg==";const l="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOTIgMTkyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOTIgMTkyIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNjIuOCA1Mi42IDk2IDMzLjVsMzMuMiAxOS4xLTEyLjIgNy0yMS0xMS45LTIxIDEyLTEyLjItNy4xem02Ni40IDI0LjItMTIuMi03LTIxIDEyLTIxLTEyLjEtMTIuMiA3LjFWOTFsMjEgMTIuMXYyNC4xbDEyLjIgNy4xIDEyLjItNy4xdi0yNC4xbDIxLTEyLjFWNzYuOHptMCAzOC40VjEwMWwtMTIuMiA3djE0LjJsMTIuMi03em04LjYgNC44LTIxIDEyLjF2MTQuMmwzMy4yLTE5LjFWODguOUwxMzcuOCA5NnYyNHptLTEyLjItNTUuMyAxMi4yIDcuMVY4NmwxMi4yLTcuMVY2NC43bC0xMi4yLTcuMS0xMi4yIDcuMXptLTQxLjggNzIuNnYxNC4ybDEyLjIgNy4xIDEyLjItNy4xdi0xNC4ybC0xMi4yIDctMTIuMi03em0tMjEtMjIuMSAxMi4yIDcuMVYxMDhsLTEyLjItN3YxNC4yem0yMS01MC41TDk2IDcxLjhsMTIuMi03LjEtMTIuMi03YzAtLjEtMTIuMiA3LTEyLjIgN3ptLTI5LjYgNy4xIDEyLjItNy4xLTEyLjItNy4xTDQyIDY0Ljd2MTQuMkw1NC4yIDg2VjcxLjh6bTAgMjQuMS0xMi4yLTd2MzguM2wzMy4yIDE5LjF2LTE0LjJsLTIxLTEyLjFWOTUuOXoiIHN0eWxlPSJmaWxsOiNmMGI5MGIiLz48L3N2Zz4=";const c="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NS40IDQ1LjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ1LjQgNDUuNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTMwLjIgMTcuN2MtLjYtLjMtMS4zLS4zLTEuOCAwbC00LjMgMi41LTIuOSAxLjYtNC4yIDIuNWMtLjYuMy0xLjMuMy0xLjggMGwtMy4zLTJjLS41LS4zLS45LS45LS45LTEuNnYtMy44YzAtLjcuNC0xLjMuOS0xLjZsMy4zLTEuOWMuNi0uMyAxLjItLjMgMS44IDBsMy4zIDJjLjYuMy45LjkuOSAxLjZ2Mi41bDIuOS0xLjd2LTIuNmMwLS43LS4zLTEuMy0uOS0xLjZMMTcuMSAxMGMtLjYtLjMtMS4yLS4zLTEuOCAwTDkgMTMuN2MtLjYuMy0uOS45LS45IDEuNXY3LjFjMCAuNy4zIDEuMy45IDEuNmw2LjIgMy42Yy42LjMgMS4yLjMgMS44IDBsNC4yLTIuNCAyLjktMS43IDQuMi0yLjRjLjYtLjMgMS4zLS4zIDEuOCAwbDMuMyAxLjljLjYuMy45LjkuOSAxLjZ2My44YzAgLjctLjMgMS4zLS45IDEuNmwtMy4yIDEuOWMtLjYuMy0xLjIuMy0xLjggMGwtMy4zLTEuOWMtLjYtLjMtLjktLjktLjktMS42di0yLjRsLTIuOSAxLjd2Mi41YzAgLjcuMyAxLjMuOSAxLjZsNi4xIDMuNmMuNi4zIDEuMi4zIDEuOCAwbDYuMS0zLjZjLjYtLjMuOS0uOS45LTEuNnYtNy4yYzAtLjctLjMtMS4zLS45LTEuNmwtNi0zLjZ6IiBzdHlsZT0iZmlsbDojODI0N2U1Ii8+PC9zdmc+Cg==";const o="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDM5Ny43IDMxMS43IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzOTcuNyAzMTEuNyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGxpbmVhckdyYWRpZW50IGlkPSJ3ZWIzX2Jsb2NrY2hhaW5zX3NvbGFuYV9ncmFkaWVudF8xIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjI5MS44NTQiIHkxPSIxNC4zNTkiIHgyPSIxNjUuNzY4IiB5Mj0iMjU1Ljg2NiIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgwIDMwLjUzNSkiPjxzdG9wIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzAwZmZhMyIvPjxzdG9wIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6I2RjMWZmZiIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggZD0iTTEyMS44IDIwMi45YzEuNC0xLjQgMy4zLTIuMiA1LjMtMi4yaDE4Mi4yYzMuMyAwIDUgNCAyLjYgNi40bC0zNiAzNmMtMS40IDEuNC0zLjMgMi4yLTUuMyAyLjJIODguNGMtMy4zIDAtNS00LTIuNi02LjRsMzYtMzZ6IiBzdHlsZT0iZmlsbDp1cmwoI3dlYjNfYmxvY2tjaGFpbnNfc29sYW5hX2dyYWRpZW50XzEpIi8+PGxpbmVhckdyYWRpZW50IGlkPSJ3ZWIzX2Jsb2NrY2hhaW5zX3NvbGFuYV9ncmFkaWVudF8yIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIzNi43MjciIHkxPSItMTQuNDIyIiB4Mj0iMTEwLjY0MSIgeTI9IjIyNy4wODUiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAzMC41MzUpIj48c3RvcCBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMGZmYTMiLz48c3RvcCBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNkYzFmZmYiLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIHN0eWxlPSJmaWxsOnVybCgjd2ViM19ibG9ja2NoYWluc19zb2xhbmFfZ3JhZGllbnRfMikiIGQ9Ik0xMjEuOCA2OC42YzEuNC0xLjQgMy4zLTIuMiA1LjMtMi4yaDE4Mi4yYzMuMyAwIDUgNCAyLjYgNi40bC0zNiAzNmMtMS40IDEuNC0zLjMgMi4yLTUuMyAyLjJIODguNGMtMy4zIDAtNS00LTIuNi02LjRsMzYtMzZ6Ii8+PGxpbmVhckdyYWRpZW50IGlkPSJ3ZWIzX2Jsb2NrY2hhaW5zX3NvbGFuYV9ncmFkaWVudF8zIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjI2NC4xMTQiIHkxPSItLjEyMyIgeDI9IjEzOC4wMjgiIHkyPSIyNDEuMzgzIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMzAuNTM1KSI+PHN0b3Agb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojMDBmZmEzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojZGMxZmZmIi8+PC9saW5lYXJHcmFkaWVudD48cGF0aCBzdHlsZT0iZmlsbDp1cmwoI3dlYjNfYmxvY2tjaGFpbnNfc29sYW5hX2dyYWRpZW50XzMpIiBkPSJNMjc1LjkgMTM1LjNjLTEuNC0xLjQtMy4zLTIuMi01LjMtMi4ySDg4LjRjLTMuMyAwLTUgNC0yLjYgNi40bDM2IDM2YzEuNCAxLjQgMy4zIDIuMiA1LjMgMi4yaDE4Mi4yYzMuMyAwIDUtNCAyLjYtNi40bC0zNi0zNnoiLz48L3N2Zz4K";let n=[{name:"ethereum",id:"0x1",networkId:"1",label:"Ethereum",fullName:"Ethereum Mainnet",logo:i,currency:{name:"Ether",symbol:"ETH",decimals:18},explorer:"https://etherscan.io",explorerUrlFor:({transaction:e,token:t,address:a})=>e?`https://etherscan.io/tx/${e.id||e}`:t?`https://etherscan.io/token/${t}`:a?`https://etherscan.io/address/${a}`:void 0,rpc:["https://mainnet.infura.io/v3/9aa3d95b3bc4","40fa88ea12eaa4456161"].join(""),tokens:[{address:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",symbol:"ETH",name:"Ether",decimals:18,logo:i,type:"NATIVE"},{address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",symbol:"WETH",name:"Wrapped Ether",decimals:18,logo:"https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png",type:"20"},{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",symbol:"USDC",name:"USD Coin",decimals:6,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png",type:"20"},{address:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",symbol:"WBTC",name:"Wrapped BTC",decimals:8,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599/logo.png",type:"20"},{address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",symbol:"USDT",name:"Tether USD",decimals:6,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png",type:"20"},{address:"0x6B175474E89094C44Da98b954EedeAC495271d0F",symbol:"DAI",name:"Dai Stablecoin",decimals:18,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B175474E89094C44Da98b954EedeAC495271d0F/logo.png",type:"20"},{address:"0x853d955aCEf822Db058eb8505911ED77F175b99e",symbol:"FRAX",name:"Frax",decimals:18,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x853d955aCEf822Db058eb8505911ED77F175b99e/logo.png",type:"20"},{address:"0x8E870D67F660D95d5be530380D0eC0bd388289E1",symbol:"USDP",name:"Pax Dollar",decimals:18,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x8E870D67F660D95d5be530380D0eC0bd388289E1/logo.png",type:"20"},{address:"0x956F47F50A910163D8BF957Cf5846D573E7f87CA",symbol:"FEI",name:"Fei USD",decimals:18,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x956F47F50A910163D8BF957Cf5846D573E7f87CA/logo.png",type:"20"}]},{name:"bsc",id:"0x38",networkId:"56",label:"BNB Smart Chain",fullName:"BNB Smart Chain Mainnet",logo:l,currency:{name:"BNB",symbol:"BNB",decimals:18},explorer:"https://bscscan.com",explorerUrlFor:({transaction:e,token:t,address:a})=>e?`https://bscscan.com/tx/${e.id||e}`:t?`https://bscscan.com/token/${t}`:a?`https://bscscan.com/address/${a}`:void 0,rpc:"https://bsc-dataseed1.binance.org",tokens:[{address:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",symbol:"BNB",name:"Binance Coin",decimals:18,logo:l,type:"NATIVE"},{address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",symbol:"WBNB",name:"Wrapped BNB",decimals:18,logo:"https://assets.trustwalletapp.com/blockchains/smartchain/assets/0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c/logo.png",type:"20"},{address:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",symbol:"BUSD",name:"BUSD Token",decimals:18,logo:"https://assets.trustwalletapp.com/blockchains/smartchain/assets/0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56/logo.png",type:"20"},{address:"0x55d398326f99059fF775485246999027B3197955",symbol:"USDT",name:"Tether USD",decimals:18,logo:"https://assets.trustwalletapp.com/blockchains/smartchain/assets/0x55d398326f99059fF775485246999027B3197955/logo.png",type:"20"},{address:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",symbol:"USDC",name:"USD Coin",decimals:18,logo:"https://assets.trustwalletapp.com/blockchains/smartchain/assets/0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d/logo.png",type:"20"},{address:"0x2170Ed0880ac9A755fd29B2688956BD959F933F8",symbol:"ETH",name:"Ethereum Token",decimals:18,logo:"https://assets.trustwalletapp.com/blockchains/smartchain/assets/0x2170Ed0880ac9A755fd29B2688956BD959F933F8/logo.png",type:"20"},{address:"0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82",symbol:"Cake",name:"PancakeSwap Token",decimals:18,logo:"https://assets.trustwalletapp.com/blockchains/smartchain/assets/0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82/logo.png",type:"20"},{address:"0x7130d2A12B9BCbFAe4f2634d864A1Ee1Ce3Ead9c",symbol:"BTCB",name:"BTCB Token",decimals:18,logo:"https://assets.trustwalletapp.com/blockchains/smartchain/assets/0x7130d2A12B9BCbFAe4f2634d864A1Ee1Ce3Ead9c/logo.png",type:"20"}]},{name:"polygon",id:"0x89",networkId:"137",label:"Polygon",fullName:"Polygon Mainnet",logo:c,currency:{name:"Polygon",symbol:"MATIC",decimals:18},explorer:"https://polygonscan.com",explorerUrlFor:({transaction:e,token:t,address:a})=>e?`https://polygonscan.com/tx/${e.id||e}`:t?`https://polygonscan.com/token/${t}`:a?`https://polygonscan.com/address/${a}`:void 0,rpc:"https://rpc-mainnet.matic.network",tokens:[{address:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",symbol:"MATIC",name:"Polygon",decimals:18,logo:c,type:"NATIVE"},{address:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",symbol:"WMATIC",name:"Wrapped Matic",decimals:18,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0/logo.png",type:"20"},{address:"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619",symbol:"WETH",name:"Wrapped Ether",decimals:18,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png",type:"20"},{address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",symbol:"USDC",name:"USD Coin",decimals:6,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png",type:"20"},{address:"0xc2132D05D31c914a87C6611C10748AEb04B58e8F",symbol:"USDT",name:"Tether USD",decimals:6,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png",type:"20"},{address:"0xa3Fa99A148fA48D14Ed51d610c367C61876997F1",symbol:"miMATIC",name:"miMATIC",decimals:18,logo:"https://raw.githubusercontent.com/0xlaozi/qidao/main/images/mimatic-red.png",type:"20"},{address:"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063",symbol:"DAI",name:"Dai Stablecoin",decimals:18,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B175474E89094C44Da98b954EedeAC495271d0F/logo.png",type:"20"},{address:"0x1BFD67037B42Cf73acF2047067bd4F2C47D9BfD6",symbol:"WBTC",name:"Wrapped BTC",decimals:8,logo:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599/logo.png",type:"20"}]},{name:"solana",networkId:"mainnet-beta",label:"Solana",fullName:"Solana",logo:o,currency:{name:"Solana",symbol:"SOL",decimals:9},explorer:"https://solscan.io",explorerUrlFor:({transaction:e,token:t,address:a})=>e?`https://solscan.io/tx/${e.id||e}`:t?`https://solscan.io/token/${t}`:a?`https://solscan.io/address/${a}`:void 0,rpc:"https://api.mainnet-beta.solana.com",tokens:[{address:"11111111111111111111111111111111",symbol:"SOL",name:"Solana",decimals:9,logo:o,type:"NATIVE"},{address:"So11111111111111111111111111111111111111112",symbol:"WSOL",name:"Wrapped SOL",decimals:9,logo:"https://img.raydium.io/icon/So11111111111111111111111111111111111111112.png",type:"SPL"},{address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",symbol:"USDC",name:"USD Coin",decimals:6,logo:"https://img.raydium.io/icon/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v.png",type:"SPL"},{address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",symbol:"USDT",name:"USDT",decimals:6,logo:"https://img.raydium.io/icon/Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB.png",type:"SPL"}]},{id:"unknown",name:"unknown",label:"Unknown",logo:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyODMuNSAyODMuNSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjgzLjUgMjgzLjUiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxjaXJjbGUgZmlsbD0iI0YwRUZFRiIgY3g9IjE0MS43IiBjeT0iMTQxLjciIHI9IjE0MS43Ii8+PHBhdGggZmlsbD0iI0FCQUJBQiIgZD0iTTEyNyAxNzUuMXYtNC40YzAtOC40IDEuMS0xNS4zIDMuNC0yMC43IDIuMy01LjQgNS4xLTEwIDguNC0xMy44IDMuMy0zLjcgNi42LTcgMTAuMS05LjdzNi4zLTUuNiA4LjYtOC41YzIuMy0yLjkgMy40LTYuNCAzLjQtMTAuNSAwLTUtMS4xLTguNy0zLjMtMTEuMS0yLjItMi40LTUtNC04LjQtNC44LTMuNC0uOC02LjktMS4zLTEwLjUtMS4zLTUuOCAwLTExLjggMS0xNy45IDIuOS02LjEgMS45LTExLjUgNC43LTE2IDguNFY3NGMyLjMtMS43IDUuNC0zLjMgOS40LTQuOSA0LTEuNiA4LjQtMi45IDEzLjQtNHMxMC4xLTEuNiAxNS41LTEuNmM4LjEgMCAxNS4xIDEuMSAyMS4xIDMuNCA2IDIuMyAxMC44IDUuNSAxNC43IDkuNSAzLjggNCA2LjcgOC43IDguNiAxNC4xIDEuOSA1LjMgMi45IDExLjEgMi45IDE3LjIgMCA2LjYtMS4xIDEyLTMuNCAxNi4zLTIuMyA0LjMtNS4xIDgtOC41IDExLjItMy40IDMuMi02LjggNi40LTEwLjIgOS41LTMuNCAzLjEtNi4zIDYuOC04LjYgMTFzLTMuNCA5LjUtMy40IDE1Ljl2My40SDEyN3ptLTEuOCA0My4xdi0yNy43aDMzdjI3LjdoLTMzeiIvPjwvc3ZnPgo="}],r=function(e){return n.find((t=>t.name==e))};const m="/Users/sebastian/Work/DePay/web3-woocommerce-depay-payments/src/admin/AdminTransactionsPage.js",{useState:_,useEffect:d,useRef:u}=window.React,{Fragment:N}=window.wp.element,{Dropdown:b}=window.wp.components,{Button:p,TableCard:h,FilterPicker:y}=window.wc.components,{onQueryChange:g}=window.wc.navigation,f=()=>window.location.search.match(/paged=(\d+)/)?window.location.search.match(/paged=(\d+)/)[1]:1,w=()=>window.location.search.match(/per_page=(\d+)/)?window.location.search.match(/per_page=(\d+)/)[1]:25,E=()=>window.location.search.match(/orderby=(\w+)/)?window.location.search.match(/orderby=(\w+)/)[1]:"created_at",M=()=>window.location.search.match(/order=(\w+)/)?window.location.search.match(/order=(\w+)/)[1]:"desc",I=()=>window.location.search.match(/payments=(\w+)/)?window.location.search.match(/payments=(\w+)/)[1]:"completed";let L;function D(e){const[t,a]=_(),[s,i]=_(),[l,c]=_(),[o,n]=_(!0),[p,D]=_({paged:f(),per_page:w(),orderby:E(),order:M(),payments:I()}),[C,j]=_(),x=u(),[S,k]=_([{label:"Created at",key:"created_at",required:!0,isSortable:!0},{label:"Status",key:"status",required:!0,isSortable:!0},{label:"Order",key:"order_id",required:!0,isSortable:!0},{label:"Blockchain",key:"blockchain",required:!0,isSortable:!0},{label:"Transaction",key:"transaction_id",required:!0,isSortable:!0},{label:"Sender",key:"sender_id",required:!0,isSortable:!0},{label:"Receiver",key:"receiver_id",required:!0,isSortable:!0},{label:"Amount",key:"amount",required:!0,isSortable:!0},{label:"Token",key:"token_id",required:!0,isSortable:!0},{label:"Confirmed by",key:"confirmed_by",required:!0,isSortable:!0},{label:"Confirmed at",key:"confirmed_at",required:!0,isSortable:!0},{label:"",key:"menu",required:!0,isSortable:!1}]),v=()=>(L&&!L.status&&L.abort&&L.abort(),n(!0),D({paged:f(),per_page:w(),orderby:E(),order:M(),payments:I()}),L=wp.apiRequest({path:"/depay/wc/transactions",method:"GET",data:{limit:w(),page:f(),orderby:E(),order:M(),payments:I()}}),L.then((e=>(n(!1),e))),L),T=e=>{setTimeout((()=>{v().then((e=>a(R(e))))}),1)},A=e=>{setTimeout((()=>{v().then((e=>a(R(e))))}),1)},R=e=>e.transactions.map((e=>[{display:new Date(e.created_at).toLocaleString(),value:new Date(e.created_at).toLocaleString()},{display:React.createElement("div",{__self:this,__source:{fileName:m,lineNumber:155}},["PENDING","VALIDATING"].includes(e.status)&&React.createElement("div",{__self:this,__source:{fileName:m,lineNumber:155}},"ATTEMPT",React.createElement("br",{__self:this,__source:{fileName:m,lineNumber:155}})),React.createElement("div",{__self:this,__source:{fileName:m,lineNumber:155}},e.status),e.failed_reason&&React.createElement("div",{__self:this,__source:{fileName:m,lineNumber:155}},e.failed_reason)),value:e.status},{display:React.createElement("a",{target:"blank",rel:"noopener noreferrer",href:`/wp-admin/edit.php?s=${e.order_id}&post_status=all&post_type=shop_order&action=-1&m=0&_customer_user&paged=1&action2=-1`,__self:this,__source:{fileName:m,lineNumber:156}},e.order_id),value:e.order_id},{display:e.blockchain,value:e.blockchain},{display:React.createElement("a",{target:"blank",rel:"noopener noreferrer",href:r(e.blockchain).explorerUrlFor({transaction:e.transaction_id}),__self:this,__source:{fileName:m,lineNumber:158}},e.transaction_id),value:e.transaction_id},{display:React.createElement("a",{target:"blank",rel:"noopener noreferrer",href:r(e.blockchain).explorerUrlFor({address:e.sender_id}),__self:this,__source:{fileName:m,lineNumber:159}},e.sender_id),value:e.sender_id},{display:React.createElement("a",{target:"blank",rel:"noopener noreferrer",href:r(e.blockchain).explorerUrlFor({address:e.receiver_id}),__self:this,__source:{fileName:m,lineNumber:160}},e.receiver_id),value:e.receiver_id},{display:e.amount,value:e.amount},{display:React.createElement("a",{target:"blank",rel:"noopener noreferrer",href:r(e.blockchain).explorerUrlFor({token:e.token_id}),__self:this,__source:{fileName:m,lineNumber:162}},e.token_id),value:e.token_id},{display:e.confirmed_by,value:e.confirmed_by},{display:"1000-01-01 00:00:00"!==e.confirmed_at?new Date(e.confirmed_at).toLocaleString():"",value:new Date(e.confirmed_at).toLocaleString()},{display:React.createElement(b,{renderToggle:({isOpen:t,onToggle:a})=>"SUCCESS"==e.status?null:React.createElement("button",{onClick:a,type:"button",title:"Choose which charts to display","aria-expanded":"false",className:"components-button woocommerce-ellipsis-menu__toggle",__self:this,__source:{fileName:m,lineNumber:169}},React.createElement("svg",{className:"gridicon gridicons-ellipsis",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",__self:this,__source:{fileName:m,lineNumber:170}},React.createElement("g",{__self:this,__source:{fileName:m,lineNumber:170}},React.createElement("path",{d:"M7 12a2 2 0 11-4.001-.001A2 2 0 017 12zm12-2a2 2 0 10.001 4.001A2 2 0 0019 10zm-7 0a2 2 0 10.001 4.001A2 2 0 0012 10z",__self:this,__source:{fileName:m,lineNumber:170}})))),renderContent:()=>React.createElement("div",{role:"menu","aria-orientation":"vertical",className:"woocommerce-ellipsis-menu__content",__self:this,__source:{fileName:m,lineNumber:175}},React.createElement("button",{onClick:()=>{confirm("This transaction will be marked as succeeded and the order will be marked as paid!")&&wp.apiRequest({path:"/depay/wc/confirm",method:"POST",data:{id:e.id}}).always((()=>window.location.reload(!0)))},type:"button",role:"menuitem",tabindex:"0",className:"woocommerce-ellipsis-menu__item",style:{minWidth:"200px"},__self:this,__source:{fileName:m,lineNumber:176}},React.createElement("svg",{style:{height:"16px",width:"16px",position:"relative",top:"2px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",__self:this,__source:{fileName:m,lineNumber:188}},React.createElement("path",{d:"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z",__self:this,__source:{fileName:m,lineNumber:188}})),React.createElement("span",{style:{display:"inline-block",padding:"6px"},__self:this,__source:{fileName:m,lineNumber:189}},"Confirm Manually"))),__self:this,__source:{fileName:m,lineNumber:165}}),value:null}]));return d((()=>{wp.api.loadPromise.then((()=>{const e=new wp.api.models.Settings;Promise.all([e.fetch(),v()]).then((([e,t])=>{e.depay_wc_receiving_wallet_address||e.depay_wc_accepted_payments||e.depay_wc_tokens||(window.location.search="?page=wc-admin&path=%2Fdepay%2Fsettings"),i(t.total>0),j([{value:t.total,label:"Transactions"}]),c(t.total),a(R(t)),n(!1)}))}))}),[]),d((()=>(window.addEventListener("pushstate",T),()=>window.removeEventListener("pushstate",T))),[]),d((()=>(window.addEventListener("popstate",A),()=>window.removeEventListener("popstate",A))),[]),React.createElement(N,{__self:this,__source:{fileName:m,lineNumber:231}},React.createElement("div",{style:{marginLeft:"-12px",paddingBottom:"12px"},__self:this,__source:{fileName:m,lineNumber:232}},React.createElement("h2",{class:"screen-reader-text",__self:this,__source:{fileName:m,lineNumber:233}},"Filters"),React.createElement(y,{query:p,config:{label:"",param:"payments",defaultValue:"completed",staticParams:[],showFilters:()=>!0,filters:[{label:"Completed payments",value:"completed"},{label:"Payment attempts",value:"attempts"}]},__self:this,__source:{fileName:m,lineNumber:234}})),React.createElement("div",{className:"woocommerce-report-table__scroll-point",ref:x,"aria-hidden":!0,__self:this,__source:{fileName:m,lineNumber:249}}),React.createElement(h,{className:"woocommerce-report-table",title:"Transactions",query:p,actions:[],headers:S,isLoading:o,showMenu:!1,rows:t,onQueryChange:g,rowsPerPage:w(),summary:C,totalRows:l,__self:this,__source:{fileName:m,lineNumber:254}}))}const C=window.React.useEffect;function j(e){return C((()=>{window.location.search="?page=wc-admin&path=%2Fdepay%2Fsettings"}),[]),null}!function(e,t){t.addFilter("woocommerce_admin_onboarding_task_list","depay-woocommerce-payments",(t=>{let a="1"==window.DEPAY_WC_SETUP.done;const s={key:"setup_depay_wc_payments",title:"Set up DePay",content:"Simply connect your wallet and select the tokens you want to receive as payments.",container:e.createElement(j,{__self:this,__source:{fileName:"/Users/sebastian/Work/DePay/web3-woocommerce-depay-payments/src/admin.js",lineNumber:13}}),completed:a,visible:!a,additionalInfo:"Simply connect your wallet and select the tokens you want to receive as payments.",time:"1 minute",isDismissable:!1,type:"extension"};return[...t,s,{...s,key:"payments",visible:!1}]})),t.addFilter("woocommerce_admin_pages_list","depay-woocommerce-payments",(e=>(e.push({container:s,path:"/depay/settings",breadcrumbs:["DePay","Settings"],capability:"manage_woocommerce",wpOpenMenu:"toplevel_page_wc-admin-path--depay-settings",navArgs:{id:"depay-woocommerce-payments-settings"}}),e.push({container:D,path:"/depay/transactions",breadcrumbs:["DePay","Transactions"],capability:"manage_woocommerce",wpOpenMenu:"toplevel_page_wc-admin-path--depay-settings",navArgs:{id:"depay-woocommerce-payments-transactions"}}),e)))}(window.React,window.wp.hooks)}));
